<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dojang Quest</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-white font-sans">

  <div class="max-w-sm mx-auto p-4 space-y-6">

    <!-- Header -->
    <header class="text-center">
      <h1 class="text-3xl font-bold">🥋 Taekwondo Mastery Path</h1>
      <p class="text-sm text-gray-400">Train. Level Up. Master Taekwondo.</p>
    </header>

    <!-- Belt & XP Display -->
    <section class="bg-gray-800 p-4 rounded shadow">
      <p class="text-lg">Belt: <span id="belt">White</span></p>
      <p>XP: <span id="xp">0</span> / <span id="xpMax">500</span></p>
      <div class="w-full bg-gray-700 h-2 rounded mt-2">
        <div id="xpBar" class="bg-yellow-400 h-2 rounded" style="width: 0%"></div>
      </div>
    </section>

    <!-- Daily Tasks -->
    <section>
      <h2 class="text-xl font-semibold mb-2">🗓️ Daily Tasks</h2>
      <ul id="taskList" class="space-y-2">
        <!-- Tasks injected by JS -->
      </ul>
    </section>

    <!-- Lesson Module -->
    <section class="bg-gray-800 p-4 rounded shadow">
      <h2 class="text-xl font-semibold mb-2">📚 Today's Lesson</h2>
      <p id="lessonText">Practice 20 front kicks and review Taekwondo etiquette.</p>
      <button onclick="completeLesson()" class="mt-3 bg-green-500 px-4 py-2 rounded hover:bg-green-600">
        Complete Lesson (+100 XP)
      </button>
    </section>

    <!-- Avatar & Settings -->
    <section class="text-center text-sm text-gray-400">
      <div id="avatarDisplay" class="flex flex-col items-center justify-center">
        <img id="avatarImg" src="tkAppMaleAvatar.png" alt="Avatar" class="w-16 h-16 rounded-full border-2 mb-2" />
        <p id="avatarLabel">👤 Avatar: Male | 🎯 Goal: Black Belt</p>
      </div>
    </section>

  </div>

  <script src="app.js"></script>
  <script>
    // Show avatar based on localStorage
    const avatar = localStorage.getItem('tkAvatar') || 'male';
    const avatarImg = document.getElementById('avatarImg');
    const avatarLabel = document.getElementById('avatarLabel');
    if (avatar === 'female') {
      avatarImg.src = 'tkAppFemaleAvatar.png';
      avatarLabel.textContent = '👤 Avatar: Female | 🎯 Goal: Black Belt';
    } else {
      avatarImg.src = 'tkAppMaleAvatar.png';
      avatarLabel.textContent = '👤 Avatar: Male | 🎯 Goal: Black Belt';
    }
  </script>
</body>
</html>
